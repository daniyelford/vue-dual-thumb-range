(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.VueDualThumbRange={},i.Vue))})(this,function(i,e){"use strict";const y={style:{display:"flex","justify-content":"space-between","font-size":"13px","margin-top":"10px"}},w=["min","max"],M=["min","max"],b={__name:"VueDualThumbRange",props:{min:{type:Number,default:0},max:{type:Number,default:100},modelValue:{type:Object,default:()=>({from:10,to:70})}},emits:["update:modelValue"],setup(p,{emit:N}){const a=p,T=N,s=e.ref(null),f=e.ref(null),r=e.computed(()=>Math.min(a.min,a.max)),d=e.computed(()=>Math.max(a.min,a.max)),c=e.computed(()=>d.value-r.value),m=(l,t,u)=>Math.min(Math.max(l,t),u),o=e.ref(m(a.modelValue.from,r.value,d.value-1)),n=e.ref(m(a.modelValue.to,o.value+1,d.value));e.watch([o,n],()=>{let l=m(o.value,r.value,d.value),t=m(n.value,r.value,d.value);t<=l&&(t=l+1,t>d.value&&(t=d.value,l=t-1)),l!==o.value&&(o.value=l),t!==n.value&&(n.value=t),(a.modelValue.from!==l||a.modelValue.to!==t)&&T("update:modelValue",{from:l,to:t})}),e.watch(()=>a.modelValue,({from:l,to:t})=>{l!==o.value&&(o.value=l),t!==n.value&&(n.value=t)});const v=e.computed(()=>m((o.value-r.value)/c.value*100,0,100)),g=e.computed(()=>m((n.value-r.value)/c.value*100,0,100));function h(l){if(!s.value||!f.value)return;const t=f.value.getBoundingClientRect(),u=l.clientX-t.left,D=m(u/t.width*100,0,100),V=Math.round(r.value+D/100*c.value);s.value==="from"?o.value=Math.min(V,n.value-1):s.value==="to"&&(n.value=Math.max(V,o.value+1))}function k(){document.addEventListener("mousemove",h),document.addEventListener("mouseup",x)}function x(){s.value=null,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x)}return e.onBeforeUnmount(()=>x()),(l,t)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{style:{position:"relative",height:"30px",margin:"10px 0"},ref_key:"track",ref:f,onMousedown:k},[t[4]||(t[4]=e.createElementVNode("div",{style:{position:"absolute",top:"50%",height:"4px",width:"100%","background-color":"#ccc",transform:"translateY(-50%)","border-radius":"2px","z-index":"1"}},null,-1)),e.createElementVNode("div",{style:e.normalizeStyle({left:`${v.value}%`,width:`${g.value-v.value}%`,position:"absolute",top:"50%",height:"4px",backgroundColor:"#3b82f6",transform:"translateY(-50%)",borderRadius:"2px",zIndex:2})},null,4),e.createElementVNode("div",{style:e.normalizeStyle({left:`${v.value}%`,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",height:"16px",width:"16px",backgroundColor:"#3b82f6",borderRadius:"50%",cursor:"grab",zIndex:3,border:"2px solid white",boxShadow:"0 0 2px rgba(0, 0, 0, 0.4)"}),onMousedown:t[0]||(t[0]=e.withModifiers(u=>s.value="from",["prevent"]))},null,36),e.createElementVNode("div",{style:e.normalizeStyle({left:`${g.value}%`,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",height:"16px",width:"16px",backgroundColor:"#3b82f6",borderRadius:"50%",cursor:"grab",zIndex:3,border:"2px solid white",boxShadow:"0 0 2px rgba(0, 0, 0, 0.4)"}),onMousedown:t[1]||(t[1]=e.withModifiers(u=>s.value="to",["prevent"]))},null,36)],544),e.createElementVNode("div",y,[e.createElementVNode("label",null,[t[5]||(t[5]=e.createTextVNode(" from: ")),e.withDirectives(e.createElementVNode("input",{style:{width:"60px","margin-right":"5px"},type:"number","onUpdate:modelValue":t[2]||(t[2]=u=>o.value=u),min:p.min,max:n.value-1},null,8,w),[[e.vModelText,o.value,void 0,{number:!0}]])]),e.createElementVNode("label",null,[t[6]||(t[6]=e.createTextVNode(" to: ")),e.withDirectives(e.createElementVNode("input",{style:{width:"60px","margin-right":"5px"},type:"number","onUpdate:modelValue":t[3]||(t[3]=u=>n.value=u),min:o.value+1,max:p.max},null,8,M),[[e.vModelText,n.value,void 0,{number:!0}]])])])],64))}},E={install(p){p.component("VueDualThumbRange",b)}};i.VueDualThumbRange=b,i.default=E,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
